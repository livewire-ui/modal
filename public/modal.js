(()=>{function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,o){if(!t)return;if("string"==typeof t)return e(t,o);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,o)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}window.LivewireUiModal=function(){return{show:!1,showActiveComponent:!0,activeComponent:!1,componentHistory:[],modalWidth:"sm:max-w-2xl",modalTitle:"",getActiveComponentModalAttribute:function(t){if(void 0!==this.$wire.get("components")[this.activeComponent])return this.$wire.get("components")[this.activeComponent].modalAttributes[t]},closeModalOnEscape:function(t){if(!1!==this.getActiveComponentModalAttribute("closeOnEscape")){var e=!0===this.getActiveComponentModalAttribute("closeOnEscapeIsForceful");this.closeModal(e)}},closeModalOnClickAway:function(t){!1!==this.getActiveComponentModalAttribute("closeOnClickAway")&&this.closeModal(!0)},closeModal:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!0===this.getActiveComponentModalAttribute("dispatchCloseEvent")){var o=this.$wire.get("components")[this.activeComponent].name;Livewire.emit("modalClosed",o)}if(e>0)for(var n=0;n<e;n++)this.componentHistory.pop();var i=this.componentHistory.pop();i&&!1===t&&i&&this.setActiveModalComponent(i,!0),this.isBootstrap()?this.bsCloseModal(this.activeComponent):this.show=!1},setActiveModalComponent:function(t){var e=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.show=!0,!1!==this.activeComponent&&!1===o&&this.componentHistory.push(this.activeComponent);var n=50;!1===this.activeComponent?this.componentAttributes(t):(this.showActiveComponent=!1,n=400,setTimeout((function(){e.componentAttributes(t)}),300)),this.$nextTick((function(){var o=e.$refs[t].querySelector("[autofocus]");o&&setTimeout((function(){o.focus()}),n)})),this.isBootstrap()&&(this.modalTitle=this.getActiveComponentModalAttribute("bsTitle"),this.bsOpenModal(t))},focusables:function(){return t(this.$el.querySelectorAll("a, button, input, textarea, select, details, [tabindex]:not([tabindex='-1'])")).filter((function(t){return!t.hasAttribute("disabled")}))},firstFocusable:function(){return this.focusables()[0]},lastFocusable:function(){return this.focusables().slice(-1)[0]},nextFocusable:function(){return this.focusables()[this.nextFocusableIndex()]||this.firstFocusable()},prevFocusable:function(){return this.focusables()[this.prevFocusableIndex()]||this.lastFocusable()},nextFocusableIndex:function(){return(this.focusables().indexOf(document.activeElement)+1)%(this.focusables().length+1)},prevFocusableIndex:function(){return Math.max(0,this.focusables().indexOf(document.activeElement))-1},init:function(){var t=this;this.$watch("show",(function(e){e?document.body.classList.add("overflow-y-hidden"):(document.body.classList.remove("overflow-y-hidden"),setTimeout((function(){t.activeComponent=!1,t.$wire.resetState()}),300))})),Livewire.on("closeModal",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t.closeModal(e,o)})),Livewire.on("activeModalComponentChanged",(function(e){t.setActiveModalComponent(e)}))},componentAttributes:function(t){this.activeComponent=t,this.showActiveComponent=!0,this.modalWidth="sm:max-w-"+this.getActiveComponentModalAttribute("maxWidth"),this.isBootstrap()&&(this.modalWidth=this.bsModalWidth())},isBootstrap:function(){return"bootstrap"===this.getActiveComponentModalAttribute("framework")},bsModalWidth:function(){var t=this.getActiveComponentModalAttribute("bsWidth");if(""!==t)return"modal-"+t},bsModal:function(t){return document.getElementById(t)},bsCloseModal:function(t){var e=this,o=document.querySelector(".modal-backdrop.fade.show");this.bsModal(t).setAttribute("aria-hidden","true"),o.classList.remove("show"),setTimeout((function(){e.bsModal(t).classList.remove("show")})),setTimeout((function(){e.bsModal(t).style.display="none",o.remove()}),500)},bsOpenModal:function(t){var e=this,o=document.createElement("div");o.classList.add("modal-backdrop","fade"),document.body.classList.add("modal-open"),document.body.appendChild(o),this.bsModal(t).style.display="block",this.bsModal(t).setAttribute("aria-hidden","false","show"),setTimeout((function(){e.bsModal(t).classList.add("show"),o.classList.add("show")}))}}}})();